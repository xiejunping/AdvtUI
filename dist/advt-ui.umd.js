(function(d,_){typeof exports=="object"&&typeof module!="undefined"?module.exports=_():typeof define=="function"&&define.amd?define(_):(d=typeof globalThis!="undefined"?globalThis:d||self,d["advt-ui"]=_())})(this,function(){"use strict";var d=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"c-weektime"},[t("div",{staticClass:"c-schedue"}),t("div",{class:{"c-schedue":!0,"c-schedue-notransi":e.mode},style:e.styleValue}),t("table",{staticClass:"c-weektime-table",class:{"c-min-table":e.colspan<2}},[t("thead",{staticClass:"c-weektime-head"},[t("tr",[t("th",{staticClass:"week-td",attrs:{rowspan:"8"}},[e._v("\u661F\u671F/\u65F6\u95F4")]),t("th",{attrs:{colspan:12*e.colspan}},[e._v("00:00 - 12:00")]),t("th",{attrs:{colspan:12*e.colspan}},[e._v("12:00 - 24:00")])]),t("tr",e._l(e.theadArr,function(r){return t("td",{key:r,attrs:{colspan:e.colspan}},[e._v(e._s(r))])}),0)]),t("tbody",{staticClass:"c-weektime-body"},[e._l(e.data,function(r){return t("tr",{key:r.row},[t("td",[e._v(e._s(r.value))]),e._l(r.child,function(c){return t("td",{key:`${c.row}-${c.col}`,staticClass:"weektime-atom-item",class:e.selectClasses(c),attrs:{"data-week":c.row,"data-time":c.col},on:{mouseenter:function(n){return e.cellEnter(c)},mousedown:function(n){return e.cellDown(c)},mouseup:function(n){return e.cellUp(c)}}})})],2)}),t("tr",[t("td",{staticClass:"c-weektime-preview",attrs:{colspan:"49"}},[t("div",{staticClass:"g-clearfix c-weektime-con"},[t("span",{staticClass:"g-pull-left"},[e._v(e._s(e.selectState?"\u5DF2\u9009\u62E9\u65F6\u95F4\u6BB5":"\u53EF\u62D6\u52A8\u9F20\u6807\u9009\u62E9\u65F6\u95F4\u6BB5"))]),t("a",{staticClass:"g-pull-right",on:{click:function(r){return r.preventDefault(),e.$emit("on-clear")}}},[e._v("\u6E05\u7A7A\u9009\u62E9")])]),e.selectState?t("div",{staticClass:"c-weektime-time"},e._l(e.selectValue,function(r){return t("div",{key:r.id},[r.value?t("p",[t("span",{staticClass:"g-tip-text"},[e._v(e._s(r.week)+"\uFF1A")]),t("span",[e._v(e._s(r.value))])]):e._e()])}),0):e._e()])])],2)])])},_=[],ve="";function h(e,s,t,r,c,n,a,u){var l=typeof e=="function"?e.options:e;s&&(l.render=s,l.staticRenderFns=t,l._compiled=!0),r&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var i;if(a?(i=function(o){o=o||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!o&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(o=__VUE_SSR_CONTEXT__),c&&c.call(this,o),o&&o._registeredComponents&&o._registeredComponents.add(a)},l._ssrRegister=i):c&&(i=u?function(){c.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:c),i)if(l.functional){l._injectStyles=i;var _e=l.render;l.render=function(fe,E){return i.call(E),_e(fe,E)}}else{var R=l.beforeCreate;l.beforeCreate=R?[].concat(R,i):[i]}return{exports:e,options:l}}const W=e=>Array.from(Array(e)).map((s,t)=>t),N={name:"DragWeektime",props:{value:{type:Array},data:{type:Array},colspan:{type:Number,default(){return 2}}},computed:{styleValue(){return{width:`${this.width}px`,height:`${this.height}px`,left:`${this.left}px`,top:`${this.top}px`}},selectValue(){return this.value},selectState(){return this.value.some(e=>e.value)},selectClasses(){return e=>e.check?"ui-selected":""}},methods:{cellEnter(e){const s=document.querySelector(`td[data-week='${e.row}'][data-time='${e.col}']`);s&&!this.mode?(this.left=s.offsetLeft,this.top=s.offsetTop):e.col<=this.col&&e.row<=this.row?(this.width=(this.col-e.col+1)*s.offsetWidth,this.height=(this.row-e.row+1)*s.offsetHeight,this.left=s.offsetLeft,this.top=s.offsetTop):e.col>=this.col&&e.row>=this.row?(this.width=(e.col-this.col+1)*s.offsetWidth,this.height=(e.row-this.row+1)*s.offsetHeight,e.col>this.col&&e.row===this.row&&(this.top=s.offsetTop),e.col===this.col&&e.row>this.row&&(this.left=s.offsetLeft)):e.col>this.col&&e.row<this.row?(this.width=(e.col-this.col+1)*s.offsetWidth,this.height=(this.row-e.row+1)*s.offsetHeight,this.top=s.offsetTop):e.col<this.col&&e.row>this.row&&(this.width=(this.col-e.col+1)*s.offsetWidth,this.height=(e.row-this.row+1)*s.offsetHeight,this.left=s.offsetLeft)},cellDown(e){const s=document.querySelector(`td[data-week='${e.row}'][data-time='${e.col}']`);this.check=Boolean(e.check),this.mode=1,s&&(this.width=s.offsetWidth,this.height=s.offsetHeight),this.row=e.row,this.col=e.col},cellUp(e){e.col<=this.col&&e.row<=this.row?this.selectWeek([e.row,this.row],[e.col,this.col],!this.check):e.col>=this.col&&e.row>=this.row?this.selectWeek([this.row,e.row],[this.col,e.col],!this.check):e.col>this.col&&e.row<this.row?this.selectWeek([e.row,this.row],[this.col,e.col],!this.check):e.col<this.col&&e.row>this.row&&this.selectWeek([this.row,e.row],[e.col,this.col],!this.check),this.width=0,this.height=0,this.mode=0},selectWeek(e,s,t){const[r,c]=e,[n,a]=s;this.data.forEach(u=>{u.child.forEach(l=>{l.row>=r&&l.row<=c&&l.col>=n&&l.col<=a&&this.$set(l,"check",t)})})}},data(){return{width:0,height:0,left:0,top:0,mode:0,row:0,col:0,theadArr:[]}},created(){this.theadArr=W(24)}},p={};var B=h(N,d,_,!1,T,"684c0e26",null,null);function T(e){for(let s in p)this[s]=p[s]}var $=function(){return B.exports}(),I=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"c-select-item"},[t("div",{staticClass:"c-header"},[t("span",{staticClass:"c-header-title"},[e._v(e._s(e.title))]),e.clear?t("span",{staticClass:"c-header-clear",on:{click:function(r){return e.$emit("on-clear")}}},[e._v(" \u6E05\u7A7A\u5168\u90E8 ")]):e._e()]),t("div",{staticClass:"c-selecter-content"},[e._t("default")],2)])},F=[],pe="";const M={name:"selectItem",props:{title:{type:String},clear:{type:Boolean}}},w={};var j=h(M,I,F,!1,L,"3d2f2883",null,null);function L(e){for(let s in w)this[s]=w[s]}var k=function(){return j.exports}(),V=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("a-checkbox",{attrs:{checked:e.value,indeterminate:e.indeterminate},on:{change:e.change}},[e._v(e._s(e.label))])},D=[];const H={name:"ICheckbox",props:{value:{type:Boolean},label:{type:String},indeterminate:{type:Boolean}},methods:{change(e){this.$emit("input",e.target.checked)}}},m={};var O=h(H,V,D,!1,q,null,null,null);function q(e){for(let s in m)this[s]=m[s]}var f=function(){return O.exports}(),U=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"c-select-box"},[t("div",{staticClass:"c-check-all"},[t("div",{staticClass:"c-item-select c-cataract",on:{click:e.selectAll}}),t("a-checkbox",{staticClass:"c-check-item",model:{value:e.all,callback:function(r){e.all=r},expression:"all"}},[e._v("\u5168\u9009")])],1),e._l(e.data,function(r){return t("div",{key:r.id},[r.children&&r.children.length?t("div",{class:e.itemClasses(r),on:{click:function(c){return e.$emit("on-child",{item:r,level:e.level})}}},[t("i-checkbox",{attrs:{indeterminate:e.itemIndeterminate(r),label:r.value},model:{value:r.check,callback:function(c){e.$set(r,"check",c)},expression:"item.check"}}),t("a-icon",{staticClass:"c-check-arrow",attrs:{type:"right"}}),t("span",{staticClass:"c-item-checkbox c-cataract",on:{click:function(c){return e.selectItem(r)}}})],1):t("i-checkbox",{staticClass:"c-check-item",attrs:{label:r.value},model:{value:r.check,callback:function(c){e.$set(r,"check",c)},expression:"item.check"}})],1)})],2)},z=[],$e="";const v=(e,s)=>{e.forEach(t=>{if(t.children&&t.children.length){const r=t.children;r.every(c=>c.check)?s.$set(t,"check",!0):s.$set(t,"check",!1),r&&v(r,s)}})},X={name:"selectBox",components:{ICheckbox:f},props:{value:{type:[String,Number]},data:{type:Array},level:{type:Number}},computed:{itemClasses(){return e=>{const s=["c-check-item"];return e.id===this.value&&s.push("active"),s}},all(){const e=this.data.filter(s=>s.check).length;return this.data.length===e}},methods:{selectAll(){this.$emit("on-select",{check:!this.all,level:this.level})},selectItem(e){this.$emit("on-select",{check:!e.check,level:this.level,cat:e.id})},itemIndeterminate(e){const s=c=>c.children.reduce((n,a)=>{let u=[];return a.check&&n.push(a),a.children&&(u=s(a)),n.concat(u)},[]),t=s(e).length>0,r=e.children&&e.children.every(c=>c.check);return t&&!r}},watch:{data:{handler(e,s){v(e,this)},deep:!0}},mounted(){v(this.data,this)}},y={};var G=h(X,U,z,!1,J,"6fdc22c7",null,null);function J(e){for(let s in y)this[s]=y[s]}var K=function(){return G.exports}(),P=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"c-selecter"},[t("a-row",{attrs:{gutter:12}},[t("a-col",{attrs:{span:16}},[t("a-row",e._l(e.resource,function(r,c){return t("a-col",{key:c,attrs:{span:e.col}},[t("select-item",{attrs:{title:r.title}},[t("select-box",{attrs:{data:r.data,level:r.level},on:{"on-child":e.pushChild,"on-select":e.selectAll},model:{value:r.current,callback:function(n){e.$set(r,"current",n)},expression:"box.current"}})],1)],1)}),1)],1),t("a-col",{attrs:{span:7,offset:"1"}},[e.resultLen&&e.transfer?t("select-item",{attrs:{title:"\u5DF2\u9009",clear:""},on:{"on-clear":function(r){return e.$emit("on-clear",{list:e.data})}}},e._l(e.result,function(r){return t("div",{key:r.id,staticClass:"c-pop-tip"},[t("a-tag",{staticClass:"c-tag-item",attrs:{closable:""},on:{close:function(c){return e.handleClose(r.id)}}},[e._v(e._s(r.value))])],1)}),0):e._e()],1)],1)],1)},Q=[],we="";const Y={name:"selecter",components:{SelectItem:k,SelectBox:K},props:{value:{type:Array},title:{type:Array},data:{type:Array},transfer:{type:Boolean,default:!0}},data(){return{resource:[]}},computed:{col(){return this.resource.length>1?24/this.resource.length:12},result(){return this.value},resultLen(){return Boolean(this.value.length)}},watch:{data(e){e&&e.length?this.updateResource():this.resource=[]}},methods:{updateResource(){this.resource=[],this.resource.push({data:this.data,current:0,level:1,title:this.title[0]})},handleClose(e){this.$emit("on-delete",{list:this.data,id:e})},selectAll({level:e,check:s,cat:t}){let r=e-2,c=r>-1?this.resource[r].current:0;t&&(c=t),this.$emit("on-select",{check:s,current:c,list:this.data})},pushChild(e){const{item:s,level:t}=e,r=this.resource.length;t<=r-1&&this.resource.splice(t,r-t),this.resource.push({data:s.children,current:0,level:t+1,title:this.title[t]||s.value}),this.resource[t-1].current=s.id}},created(){this.updateResource()}},g={};var Z=h(Y,P,Q,!1,ee,"24829cb6",null,null);function ee(e){for(let s in g)this[s]=g[s]}var C=function(){return Z.exports}(),te=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("select-item",{attrs:{title:e.title}},[t("a-radio-group",{model:{value:e.current,callback:function(r){e.current=r},expression:"current"}},e._l(e.versions,function(r){return t("a-radio",{key:r.value,staticClass:"c-version-item",attrs:{value:r.value}},[e._v(e._s(r.label))])}),1)],1)},se=[],ke="";const re={name:"Version",components:{SelectItem:k},props:{value:{type:[String,Number],default:"NONE"},data:{type:Array,default(){return[]}},title:{type:String,default:"\u7248\u672C",required:!0},android:{type:Boolean,default:!1}},computed:{current:{get(){return this.value},set(e){this.$emit("input",e)}},vername(){return this.android?"Android":"iOS"},versions(){const e=this.data.map(s=>({label:`${this.vername} ${s}\u53CA\u4EE5\u4E0A`,value:s}));return[{label:"\u4E0D\u9650",value:"NONE"},...e]}}},x={};var ce=h(re,te,se,!1,le,"9efd1348",null,null);function le(e){for(let s in x)this[s]=x[s]}var b=function(){return ce.exports}(),ne=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("a-steps",{attrs:{current:e.current,direction:"vertical",size:"small"}},e._l(e.data,function(r,c){return t("a-step",{key:r.id,attrs:{title:r.name}},[e.anchor(c)?t("template",{slot:"description"},[t("a-anchor",{attrs:{"show-ink-in-fixed":!1}},e._l(r.children,function(n){return t("a-anchor-link",{key:n.id,attrs:{href:`#${n.href}`,title:n.name}})}),1)],1):t("template",{slot:"description"},[t("ul",{class:["nav-ul",{"c-disable":c>e.current}]},e._l(r.children,function(n){return t("li",{key:n.id},[t("span",[e._v(e._s(n.name))])])}),0)])],2)}),1)},ae=[],me="";const oe={name:"Steper",props:{current:{type:Number,default:0},data:{type:Array,required:!0}},computed:{anchor(){return e=>e===this.current}}},S={};var ie=h(oe,ne,ae,!1,he,"5dd9f6d0",null,null);function he(e){for(let s in S)this[s]=S[s]}var A=function(){return ie.exports}();const ue=[$,C,A,b,f];var de={install:e=>{ue.forEach(s=>{e.component(s.name,s)})},DragWeektime:$,Selecter:C,Steper:A,Version:b,ICheckbox:f};return de});
